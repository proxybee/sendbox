{"version":3,"sources":["../../src/models/index.js"],"names":["dotenv","config","pool","Pool","connectionString","process","env","DB_URL","connect","err","console","log","query","error","result","rows","theTime","text","params","Promise","resolve","reject","then","res"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEAA,mBAAOC,MAAP,G,CACA;AACA;;;AACA,IAAMC,IAAI,GAAG,IAAIC,QAAJ,CAAS;AACpBC,EAAAA,gBAAgB,EAAEC,OAAO,CAACC,GAAR,CAAYC,MADV,CAEpB;AACA;AACA;;AAJoB,CAAT,CAAb;AAMAL,IAAI,CAACM,OAAL,CAAa,UAACC,GAAD,EAAS;AACpB,MAAIA,GAAJ,EAAS;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CF,GAA9C;AACD;;AACDP,EAAAA,IAAI,CAACU,KAAL,CAAW,2BAAX,EAAwC,UAACC,KAAD,EAAQC,MAAR,EAAmB;AACzD,QAAID,KAAJ,EAAW;AACTH,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCE,KAApC;AACD,KAFD,MAEO;AACLH,MAAAA,OAAO,CAACC,GAAR,CAAYG,MAAM,CAACC,IAAP,CAAY,CAAZ,EAAeC,OAA3B;AACD;AACF,GAND;AAOD,CAXD;eAae;AACbJ,EAAAA,KADa,iBACPK,IADO,EACDC,MADC,EACO;AAClB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCnB,MAAAA,IAAI,CAACU,KAAL,CAAWK,IAAX,EAAiBC,MAAjB,EACGI,IADH,CACQ,UAACC,GAAD,EAAS;AACbH,QAAAA,OAAO,CAACG,GAAD,CAAP;AACD,OAHH,WAIS,UAACd,GAAD,EAAS;AACdY,QAAAA,MAAM,CAACZ,GAAD,CAAN;AACD,OANH;AAOD,KARM,CAAP;AASD;AAXY,C","sourcesContent":["import { Pool } from 'pg';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n// const constring = process.env.DB_URL;\n// const pool = new Pool.Client(constring);\nconst pool = new Pool({\n  connectionString: process.env.DB_URL,\n  // ssl: {\n  //   rejectUnauthorized: false,\n  // },\n});\npool.connect((err) => {\n  if (err) {\n    console.log('could not connect to postgres:', err);\n  }\n  pool.query('SELECT NOW() AS \"theTime\"', (error, result) => {\n    if (error) {\n      console.log('error running query:', error);\n    } else {\n      console.log(result.rows[0].theTime);\n    }\n  });\n});\n\nexport default {\n  query(text, params) {\n    return new Promise((resolve, reject) => {\n      pool.query(text, params)\n        .then((res) => {\n          resolve(res);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n};\n"],"file":"index.js"}