{"version":3,"sources":["../../src/helpers/userVerification.js"],"names":["postUserVerification","req","res","console","log","user","token","mailOptions","from","process","env","SENDER_EMAIL","to","email","subject","generateTextFromHTML","html","headers","host","transporter","sendMail","error","info","json","done","message","response"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,GAAD,EAAMC,GAAN,EAAc;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,GAAG,CAACI,IAAnC;AACA,MAAMC,KAAK,GAAG,CAAd;AACA,MAAMC,WAAW,GAAG;AAClBC,IAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,YADA;AAElBC,IAAAA,EAAE,EAAEX,GAAG,CAACY,KAFU;AAGlBC,IAAAA,OAAO,EAAE,6BAHS;AAIlBC,IAAAA,oBAAoB,EAAE,IAJJ;AAKlBC,IAAAA,IAAI,2NAOYf,GAAG,CAACI,IAPhB,kMASwJJ,GAAG,CAACgB,OAAJ,CAAYC,IATpK,2BASyLZ,KAAK,CAACA,KAT/L;AALc,GAApB;;AAoBAa,0BAAYC,QAAZ,CAAqBb,WAArB,EAAkC,UAACc,KAAD,EAAQC,IAAR,EAAiB;AACjD,QAAID,KAAJ,EAAW;AACT,aAAOnB,GAAG,CAACqB,IAAJ,CAAS;AAAEF,QAAAA,KAAK,EAAE;AAAT,OAAT,CAAP;AACD;;AACD,WAAOnB,GAAG,CAACqB,IAAJ,CAAS;AACdC,MAAAA,IAAI,EAAE,IADQ;AAEdC,MAAAA,OAAO,EAAEH,IAAI,CAACI;AAFA,KAAT,CAAP;AAID,GARD;AASD,CAhCD;;eAkCe1B,oB","sourcesContent":["import transporter from './emailConfig';\n\nconst postUserVerification = (req, res) => {\n  console.log('in verification', req.user);\n  const token = 1;\n  const mailOptions = {\n    from: process.env.SENDER_EMAIL,\n    to: req.email,\n    subject: 'Account Verification Token!',\n    generateTextFromHTML: true,\n    html: `<div className=\"email\" style=\"\n        border: 1px solid black;\n        padding: 20px;\n        font-family: sans-serif;\n        line-height: 2;\n        font-size: 20px;\n      \">\n        <h3>Hello ${req.user}, </h3>\n        <br>\n        <p>Thank you for registering on sendbox, to activate and enable you use your account, please verify your email by clicking the following link:https://${req.headers.host}/confirmation/${token.token}</p>\n        \\n\\n Thank you \n        <br>\n        <p>Sendbox Team</p>\n          `,\n  };\n  transporter.sendMail(mailOptions, (error, info) => {\n    if (error) {\n      return res.json({ error: true });\n    }\n    return res.json({\n      done: true,\n      message: info.response,\n    });\n  });\n};\n\nexport default postUserVerification;\n"],"file":"userVerification.js"}